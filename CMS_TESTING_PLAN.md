# CMS后端管理系统全面功能测试计划

## 测试环境信息

- 前端开发服务器：http://localhost:5173
- 后端API服务器：http://localhost:3000
- 测试日期：2024年6月11日
- 测试人员：系统管理员

## 测试优先级分级

- **P0 (阻塞级)**：核心功能，必须正常工作
- **P1 (重要级)**：主要功能，应该正常工作
- **P2 (一般级)**：辅助功能，可以后续优化

## 一、基础功能测试 (P0)

### 1.1 登录认证系统

- [ ] 管理员登录功能
  - 测试URL：`http://localhost:5173/admin/login`
  - 测试账号：admin/password 或根据实际配置
  - 验证：成功登录后跳转到dashboard
- [ ] 权限验证
  - 未登录访问admin页面应重定向到登录页
  - 登录后可以访问对应权限的页面
- [ ] 退出登录功能
  - 验证：点击退出后清除登录状态

### 1.2 基础导航

- [ ] 侧边栏菜单展开/收起
- [ ] 面包屑导航正确显示
- [ ] 页面路由跳转正常
- [ ] 用户下拉菜单功能（个人资料、个人设置、退出登录）

## 二、核心业务功能测试 (P0)

### 2.1 新闻管理模块

**测试路径：** `/admin/news/`

#### 2.1.1 新闻列表 (`/admin/news/list`)

- [ ] 页面正常加载
- [ ] 新闻列表数据正常显示
- [ ] 搜索功能正常
- [ ] 筛选功能（状态、分类、日期范围）
- [ ] 分页功能正常
- [ ] 批量操作功能

#### 2.1.2 发布新闻 (`/admin/news/create`)

- [ ] 页面正常加载
- [ ] 富文本编辑器正常工作
- [ ] 表单验证正确
- [ ] 图片上传功能
- [ ] 分类选择功能
- [ ] 标签添加功能
- [ ] 发布状态设置（草稿/发布）
- [ ] 保存草稿功能
- [ ] 发布新闻功能
- [ ] 发布后数据正确保存到数据库

#### 2.1.3 编辑新闻 (`/admin/news/edit/:id`)

- [ ] 页面正常加载已有新闻数据
- [ ] 编辑功能正常
- [ ] 更新保存功能
- [ ] 状态切换功能

#### 2.1.4 新闻分类管理 (`/admin/news/categories`)

- [ ] 分类列表显示
- [ ] 新增分类功能
- [ ] 编辑分类功能
- [ ] 删除分类功能
- [ ] 分类排序功能

### 2.2 资源管理模块

**测试路径：** `/admin/resources/`

#### 2.2.1 资源列表 (`/admin/resources/list`)

- [ ] 页面正常加载
- [ ] 资源列表数据正常显示
- [ ] 文件信息正确显示（文件名、大小、类型）
- [ ] 搜索和筛选功能
- [ ] 下载功能
- [ ] 预览功能

#### 2.2.2 上传资源 (`/admin/resources/create`)

- [ ] 页面正常加载
- [ ] 文件上传功能
  - 测试不同文件类型：PDF、DOC、DOCX、PPT、PPTX、图片等
  - 测试文件大小限制
  - 测试文件类型限制
- [ ] 资源信息填写（标题、描述、分类、标签）
- [ ] 访问权限设置
- [ ] 上传进度显示
- [ ] 上传完成后正确保存

#### 2.2.3 编辑资源 (`/admin/resources/edit/:id`)

- [ ] 页面正常加载已有资源数据
- [ ] 资源信息编辑
- [ ] 文件替换功能
- [ ] 更新保存功能

#### 2.2.4 资源分类管理 (`/admin/resources/categories`)

- [ ] 分类管理功能完整性

### 2.3 用户管理模块 (P1)

**测试路径：** `/admin/users/`

#### 2.3.1 用户列表 (`/admin/users/list`)

- [ ] 用户列表显示
- [ ] 用户信息正确（头像、用户名、邮箱、角色、状态）
- [ ] 搜索和筛选功能
- [ ] 用户状态切换（启用/禁用）
- [ ] 新增用户功能
- [ ] 编辑用户功能
- [ ] 重置密码功能

#### 2.3.2 角色管理 (`/admin/users/roles`)

- [ ] 角色列表显示
- [ ] 新增角色功能
- [ ] 编辑角色功能
- [ ] 权限分配功能

#### 2.3.3 权限管理 (`/admin/users/permissions`)

- [ ] 权限树结构显示
- [ ] 权限管理功能

## 三、系统功能测试 (P1)

### 3.1 仪表板 (`/admin/dashboard`)

- [ ] 统计数据正确显示
- [ ] 图表正常渲染
- [ ] 最新动态显示
- [ ] 快捷操作链接正常

### 3.2 系统设置 (`/admin/settings`)

- [ ] 站点基本信息设置
- [ ] 系统配置选项
- [ ] 邮件配置
- [ ] 安全设置
- [ ] 设置保存功能

## 四、API接口测试 (P0)

### 4.1 认证相关API

- [ ] POST `/api/auth/login` - 管理员登录
- [ ] GET `/api/auth/me` - 获取当前用户信息
- [ ] POST `/api/auth/logout` - 退出登录

### 4.2 新闻相关API

- [ ] GET `/api/admin/news` - 获取新闻列表
- [ ] POST `/api/admin/news` - 创建新闻
- [ ] GET `/api/admin/news/:id` - 获取新闻详情
- [ ] PUT `/api/admin/news/:id` - 更新新闻
- [ ] DELETE `/api/admin/news/:id` - 删除新闻

### 4.3 资源相关API

- [ ] GET `/api/admin/resources` - 获取资源列表
- [ ] POST `/api/admin/resources` - 创建资源
- [ ] POST `/api/upload` - 文件上传
- [ ] GET `/api/admin/resources/:id` - 获取资源详情

### 4.4 用户管理API

- [ ] GET `/api/admin/users` - 获取用户列表
- [ ] POST `/api/admin/users` - 创建用户
- [ ] PUT `/api/admin/users/:id` - 更新用户

## 五、数据库测试 (P1)

### 5.1 数据持久化

- [ ] 新闻数据正确保存到MongoDB
- [ ] 资源文件正确保存到文件系统
- [ ] 用户数据正确保存
- [ ] 关联关系正确建立

### 5.2 数据完整性

- [ ] 外键约束正确
- [ ] 数据格式验证
- [ ] 必填字段验证

## 六、文件上传测试 (P0)

### 6.1 文件上传功能

- [ ] 单文件上传
- [ ] 文件类型限制
- [ ] 文件大小限制
- [ ] 上传进度显示
- [ ] 上传错误处理

### 6.2 文件存储

- [ ] 文件正确保存到uploads目录
- [ ] 文件命名规则正确
- [ ] 文件访问URL正确生成

## 七、错误处理测试 (P1)

### 7.1 前端错误处理

- [ ] 网络错误提示
- [ ] 表单验证错误提示
- [ ] 权限不足错误处理
- [ ] 404页面正确显示

### 7.2 后端错误处理

- [ ] API错误响应格式正确
- [ ] 数据库连接错误处理
- [ ] 文件上传错误处理

## 八、性能测试 (P2)

### 8.1 页面加载性能

- [ ] 首次加载时间
- [ ] 路由切换速度
- [ ] 大文件上传性能

### 8.2 数据处理性能

- [ ] 大量数据列表加载
- [ ] 搜索响应时间
- [ ] 图片/文件预览速度

## 测试执行记录

### 测试环境准备

- [ ] 确认前后端服务正常运行
- [ ] 确认数据库连接正常
- [ ] 准备测试数据和文件

### 测试执行顺序

1. 基础功能测试（登录、导航）
2. 新闻管理完整流程测试
3. 资源管理完整流程测试
4. 用户管理测试
5. API接口测试
6. 文件上传专项测试
7. 错误处理测试

### 问题记录格式

```
问题ID: [序号]
功能模块: [模块名称]
问题描述: [详细描述]
重现步骤: [1. 2. 3.]
预期结果: [期望的结果]
实际结果: [实际的结果]
严重级别: [P0/P1/P2]
状态: [待修复/已修复/已验证]
```

## 自动化测试建议

完成手动测试后，建议创建以下自动化测试：

1. API接口自动化测试（使用Postman或Jest）
2. 前端E2E测试（使用Playwright）
3. 文件上传功能自动化测试
4. 数据库操作单元测试
