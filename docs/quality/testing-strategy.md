---
title: æµ‹è¯•æ€»ä½“ç­–ç•¥
updated: 2025-09-29
status: draft
owner: qa-team
---

# æµ‹è¯•æ€»ä½“ç­–ç•¥

æœ¬æ–‡ä»¶å®šä¹‰æµ‹è¯•é‡‘å­—å¡”ã€è¦†ç›–ç›®æ ‡ä¸ç»„ç»‡æ–¹å¼ã€‚æ‰§è¡Œè®¡åˆ’ä¸å½“å‰å·®è·è¯„ä¼°è¯·è§ï¼š`testing-baseline.md` ä¸ `testing-roadmap.md`ã€‚

## ğŸ¯ ç›®æ ‡

| ç»´åº¦         | ç›®æ ‡     | å¤‡æ³¨                   |
| ------------ | -------- | ---------------------- |
| è¯­å¥è¦†ç›–ç‡   | â‰¥ 85%    | ä¸¥æ ¼é—¨ç¦åœ¨ 75% (PR)    |
| æ ¸å¿ƒæ¨¡å—è¦†ç›– | 90%+     | Store / Service / æƒé™ |
| å›å½’ç¨³å®šæ€§   | 0 flaky  | æ ‡è®° & éš”ç¦»ç­–ç•¥        |
| æ‰§è¡Œæ—¶é•¿     | < 10m CI | å•æµ‹ < 2m / E2E å¹¶è¡Œ   |

## ğŸ—ï¸ é‡‘å­—å¡”ç»“æ„

```
E2E (å°‘)    â† å…³é”®ç”¨æˆ·æ—…ç¨‹ / å›å½’
é›†æˆ (é€‚é‡) â† è·¯ç”± + Store + API åˆä½œ
å•å…ƒ (å¤š)   â† çº¯é€»è¾‘ / ç»„åˆå‡½æ•° / å·¥å…·
```

## ğŸ“¦ æµ‹è¯•ç±»å‹è¡¨

| ç±»å‹     | å·¥å…·                    | å…³æ³¨ç‚¹               | ç¤ºä¾‹                         |
| -------- | ----------------------- | -------------------- | ---------------------------- |
| å•å…ƒ     | Vitest + vue-test-utils | çº¯é€»è¾‘ã€åˆ†æ”¯         | å·¥å…·å‡½æ•°ã€Piniaã€composables |
| é›†æˆ     | Vitest + MSW            | API åä½œã€Store æµç¨‹ | ç™»å½•-æ‹‰å–ç”¨æˆ·-æƒé™è¿‡æ»¤       |
| E2E      | Playwright              | ç”¨æˆ·å…³é”®è·¯å¾„         | ç™»å½•â†’å‘å¸ƒæ–°é—»â†’ç™»å‡º           |
| æ€§èƒ½     | è‡ªå®šä¹‰ + browser perf   | æ¸²æŸ“æ—¶é•¿ / å†…å­˜      | å¤§åˆ—è¡¨æ¸²æŸ“                   |
| å¯è®¿é—®æ€§ | axe (è§„åˆ’)              | a11y è¿è§„            | è¡¨å•æ ‡ç­¾å…³è”                 |

## ğŸ§ª è¦†ç›–ç­–ç•¥

| åŒºåŸŸ        | ç­–ç•¥                | ä¸æµ‹å†…å®¹            |
| ----------- | ------------------- | ------------------- |
| ç»„ä»¶        | æ•°æ®é©±åŠ¨ / äº¤äº’è¡Œä¸º | UI çº¯æ ·å¼           |
| Store       | çŠ¶æ€è¿ç§» / é”™è¯¯åˆ†æ”¯ | ä¾èµ–åç«¯çœŸå® IO     |
| API         | å‚æ•°æ„å»º / é”™è¯¯é€‚é… | ç¬¬ä¸‰æ–¹ SDK å†…éƒ¨å®ç° |
| Composables | åˆ†æ”¯ + è¾¹ç•Œæ¡ä»¶     | çº¯ re-export        |
| æƒé™        | matrix ç»„åˆ         | é‡å¤ç­‰ä»·è·¯å¾„        |

## ğŸ”Œ Mock åŸåˆ™

1. åª Mock è¾¹ç•Œï¼ˆç½‘ç»œ / æ—¶é—´ / éšæœº / å¤–éƒ¨æœåŠ¡ï¼‰
2. ä¸ Mock è¢«æµ‹é€»è¾‘å†…éƒ¨å®ç°
3. å·¥å‚å‡½æ•°ç”ŸæˆåŠ¨æ€æ•°æ®ï¼Œé¿å…ç¡¬ç¼–ç 
4. å¤±è´¥è·¯å¾„å¿…é¡»æœ‰ç”¨ä¾‹ï¼ˆâ‰¥ 1/æ¥å£ï¼‰

## ğŸ§± ç›®å½•è§„åˆ’

```
__tests__/
  unit/
  integration/
  e2e/
  factories/
  mocks/
  performance/
  setup.ts
```

## âœ… è´¨é‡é—¨ç¦ (PR)

| æ£€æŸ¥é¡¹   | æ ‡å‡†                  |
| -------- | --------------------- |
| å•æµ‹é€šè¿‡ | 0 å¤±è´¥ / 0 è·³è¿‡æ— å¤‡æ³¨ |
| è¦†ç›–ç‡   | ä¸ä½äº main åˆ†æ”¯åŸºçº¿  |
| ç±»å‹æ£€æŸ¥ | 0 error               |
| Lint     | 0 error (warn < 10)   |
| E2E å†’çƒŸ | ç™»å½• + æ ¸å¿ƒé¡µé¢ 200   |

## ğŸš¦ Flaky å¤„ç†æµç¨‹

å‘ç° â†’ æ ‡è®° @flaky æ³¨é‡Š â†’ issue â†’ ä¸´æ—¶éš”ç¦» (retry=2) â†’ æ ¹å› ä¿®å¤ â†’ ç§»é™¤æ ‡è®°ã€‚

## ğŸ› ï¸ æœ¬åœ°å¼€å‘å‘½ä»¤ (å»ºè®®)

- `npm run test:unit` â†’ çº¯å•å…ƒ
- `npm run test:changed` â†’ ä»…æ”¹åŠ¨æ–‡ä»¶
- `npm run test:watch` â†’ watch æ¨¡å¼
- `npm run test:e2e:smoke` â†’ ç²¾ç®€å†’çƒŸ

## ğŸ“Œ ä¸åœ¨èŒƒå›´ (å½“å‰é˜¶æ®µ)

- è§†è§‰å›å½’æµ‹è¯• (å¯åˆ—ä¸ºåç»­å¢å¼º)
- è´Ÿè½½å‹æµ‹ï¼ˆéœ€åç«¯ç‹¬ç«‹ç¯å¢ƒï¼‰

## ğŸ”„ ç»´æŠ¤ç­–ç•¥

- æ¯å‘¨ï¼šè¦†ç›–ç‡è¶‹åŠ¿æ¿ + å¤±è´¥ç»Ÿè®¡
- æ¯æœˆï¼šç­–ç•¥å›é¡¾ï¼ˆæ˜¯å¦éœ€å¼•å…¥æ–°å±‚æ¬¡ï¼‰
- æ–°æ¨¡å—ï¼šæäº¤éœ€é™„æµ‹è¯•æˆ–åˆ—å…¥è¡¥æµ‹ä»»åŠ¡

---

æ›´æ–°æœ¬æ–‡ä»¶éœ€åŒæ­¥ `testing-roadmap.md` ä¸­é‡Œç¨‹ç¢‘ï¼Œå¦‚è°ƒæ•´ç›®æ ‡é˜ˆå€¼ã€‚
