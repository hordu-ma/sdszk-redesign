# CI/CD 环境配置文件
# 用于 GitHub Actions 和自动化测试环境

# Node.js 环境
NODE_ENV=test

# 服务器配置
PORT=3000
HOST=0.0.0.0

# 数据库配置 (使用 Docker 服务)
MONGODB_URI=mongodb://localhost:27017/sdszk_test
MONGODB_TEST_DB=sdszk_test

# Redis 配置 (使用 Docker 服务)
REDIS_ENABLED=true
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379

# JWT 配置
JWT_SECRET=ci_test_jwt_secret_key_12345
JWT_EXPIRES_IN=24h

# 文件上传配置
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760

# CORS 配置
CORS_ORIGIN=http://localhost:5173,http://localhost:3000

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json

# 安全配置
BCRYPT_ROUNDS=10

# 邮件配置 (测试环境不发送真实邮件)
MAIL_ENABLED=false
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USER=test@example.com
MAIL_PASS=test_password

# 测试配置
TEST_TIMEOUT=30000
E2E_TIMEOUT=180000

# 开发端口 (用于 CORS)
DEV_PORTS=5173,5174,3000,3001

# 数据库连接配置
DB_CONNECTION_TIMEOUT=10000
DB_SOCKET_TIMEOUT=45000
DB_MAX_POOL_SIZE=10

# Redis 连接配置
REDIS_CONNECTION_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=3000

# API 限流配置
RATE_LIMIT_ENABLED=false
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# 缓存配置
CACHE_TTL=300
CACHE_ENABLED=true

# 会话配置
SESSION_SECRET=ci_test_session_secret_12345
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTP_ONLY=true

# 文件存储配置
STATIC_FILE_MAX_AGE=3600
UPLOAD_TEMP_DIR=/tmp/uploads

# API 文档配置
API_DOCS_ENABLED=true
SWAGGER_UI_THEME=light

# 健康检查配置
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# 性能监控配置
PERFORMANCE_MONITORING=false
METRICS_ENABLED=false
